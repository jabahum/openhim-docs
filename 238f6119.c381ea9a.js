(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{140:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return p})),o.d(t,"rightToc",(function(){return c})),o.d(t,"metadata",(function(){return l})),o.d(t,"default",(function(){return m}));var r=o(1),n=o(6),i=(o(0),o(338)),a=o(348),p={id:"export-import-configuration",title:"Export/import Configuration",sidebar_label:"Export/import Configuration",keywords:["OpenHIM","Export","Import","Configuration"],description:"Export/import OpenHIM configuration"},c=[{value:"Exporting",id:"exporting",children:[]},{value:"Importing",id:"importing",children:[]},{value:"Export/import from the OpenHIM Console",id:"exportimport-from-the-openhim-console",children:[{value:"Export",id:"export",children:[]},{value:"Import",id:"import",children:[]}]}],l={id:"how-to/export-import-configuration",title:"Export/import Configuration",description:"Export/import OpenHIM configuration",source:"@site/docs/how-to/how-to-import-export.md",permalink:"/docs/next/how-to/export-import-configuration",version:"next",sidebar_label:"Export/import Configuration",sidebar:"docs",previous:{title:"Run the OpenHIM on startup",permalink:"/docs/next/how-to/run-openhim-on-startup"},next:{title:"Setup a basic cluster",permalink:"/docs/next/how-to/setup-basic-cluster"}},s={rightToc:c,metadata:l},u="wrapper";function m(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(i.b)(u,Object(r.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"exporting"},"Exporting"),Object(i.b)("p",null,"Follow the steps below to export and import the server metadata configuration manually. By default, the Users, Channels, Clients, ContactGroups and Mediators collections will be exported.\nCopy the file ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/jembi/openhim-core-js/blob/master/resources/openhim-configuration-export.sh"}),"openhim-configuration-export.sh")," to a folder where you wish your export to be saved. Run the shell scrip by executing the following command:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"./openhim-configuration-export.sh\n")),Object(i.b)("p",null,"Your exported collections should be located in the folder structure '/dump/openhim/'."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"For full import/export API details see ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"../api/import-export/overview"}),"here"),".")),Object(i.b)("h2",{id:"importing"},"Importing"),Object(i.b)("p",null,"To import you data successfully ensure that you are in the correct folder where the dump files are located. Execute the below command to import your collections."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"mongorestore --db openhim dump/openhim\n")),Object(i.b)("p",null,"NB! if you have changed your database name, then do so for the export/import as well.\nNB! Please ensure that you stop the server before exporting and importing."),Object(i.b)("h2",{id:"exportimport-from-the-openhim-console"},"Export/import from the OpenHIM Console"),Object(i.b)("p",null,"Export/import can now be done directly from the OpenHIM console which may be easier."),Object(i.b)("p",null,"Navigate to the ",Object(i.b)("inlineCode",{parentName:"p"},"Export/Import")," page on the console."),Object(i.b)("h3",{id:"export"},"Export"),Object(i.b)("p",null,"To export your configuration, open the relevant drop downs to check that the desired configs are selected (all configs are selected by default). Deselect any unwanted settings. Then ",Object(i.b)("inlineCode",{parentName:"p"},"click Generate Export Script"),". See below for expected screen."),Object(i.b)("img",{alt:"export/import screen",src:Object(a.a)("img/tutorial/import-export.png")}),Object(i.b)("h3",{id:"import"},"Import"),Object(i.b)("p",null,"To import config drag and drop your export file, generated from the desired OpenHIM instance, into the specified box."))}m.isMDXComponent=!0},338:function(e,t,o){"use strict";o.d(t,"a",(function(){return p})),o.d(t,"b",(function(){return u}));var r=o(0),n=o.n(r),i=n.a.createContext({}),a=function(e){var t=n.a.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):Object.assign({},t,e)),o},p=function(e){var t=a(e.components);return n.a.createElement(i.Provider,{value:t},e.children)};var c="mdxType",l={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},s=Object(r.forwardRef)((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(o[r]=e[r]);return o}(e,["components","mdxType","originalType","parentName"]),s=a(o),u=r,m=s[p+"."+u]||s[u]||l[u]||i;return o?n.a.createElement(m,Object.assign({},{ref:t},c,{components:o})):n.a.createElement(m,Object.assign({},{ref:t},c))}));function u(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=s;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[c]="string"==typeof e?e:r,a[1]=p;for(var u=2;u<i;u++)a[u]=o[u];return n.a.createElement.apply(null,a)}return n.a.createElement.apply(null,o)}s.displayName="MDXCreateElement"},342:function(e,t,o){"use strict";var r=o(0),n=o(35);t.a=function(){return Object(r.useContext)(n.a)}},348:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o(342);function n(e){const{siteConfig:t}=Object(r.a)(),{baseUrl:o="/"}=t||{};if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?o+e.slice(1):o+e}}}]);