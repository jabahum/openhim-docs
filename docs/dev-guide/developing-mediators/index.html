<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"16017120":["/16017120.ab8b1cdb.js"],"17896441":["/17896441.5eb77786.css","/17896441.a0636878.js"],"34342401":["/34342401.b1709367.js"],"47325611":["/47325611.a89aad07.js"],"60415478":["/60415478.403d1d58.js"],"87623997":["/87623997.048208dd.js"],"main":["/main.890859af.css","/main.8982d4c2.js"],"01a85c17":["/01a85c17.2fb6e6c7.js"],"026297e9":["/026297e9.8c117cdd.js"],"02ab9906":["/02ab9906.5da9f5fa.js"],"02bd7a42":["/02bd7a42.66106e49.js"],"03996ad0":["/03996ad0.3b47b3bd.js"],"0759d27c":["/0759d27c.1c66fc67.js"],"09ce1a73":["/09ce1a73.38a8ef6e.js"],"0b1835ba":["/0b1835ba.98448f0c.js"],"0b4fad2c":["/0b4fad2c.72ca5c3b.js"],"0d0770a2":["/0d0770a2.aeca4253.js"],"0ee2d32f":["/0ee2d32f.f14c6b5d.js"],"12852a89":["/12852a89.8f7bf043.js"],"15aa40f4":["/15aa40f4.8212967f.js"],"15c6fb24":["/15c6fb24.e6752b9e.js"],"15fe0cce":["/15fe0cce.3b1ee076.js"],"1640328c":["/1640328c.8deae2c1.js"],"165e6236":["/165e6236.61f55ebe.js"],"1742cf79":["/1742cf79.0de93cc2.js"],"1794f23b":["/1794f23b.fb02233a.js"],"19ca43e5":["/19ca43e5.e7ebf24c.js"],"1a6dbedf":["/1a6dbedf.c99e99a8.js"],"1a9639fa":["/1a9639fa.0fd6e20f.js"],"1b2d43c1":["/1b2d43c1.d125acb2.js"],"1b305ec6":["/1b305ec6.e059146a.js"],"1be78505":["/1be78505.a7dc664a.css","/1be78505.07533e7a.js"],"1c0b5c90":["/1c0b5c90.f72ad746.js"],"1ef78522":["/1ef78522.525f7c42.js"],"1f7aab8b":["/1f7aab8b.0cbb4700.js"],"2228847d":["/2228847d.92dbddec.js"],"238f6119":["/238f6119.2bc2ad42.js"],"2450005c":["/2450005c.6cac036b.js"],"24bc38f7":["/24bc38f7.cfb10056.js"],"253ba960":["/253ba960.aa1f2384.js"],"25f4ba9f":["/25f4ba9f.7cf2c1ee.js"],"25fd0e67":["/25fd0e67.4bd673ad.js"],"26e7956e":["/26e7956e.457324fd.js"],"2868cdab":["/2868cdab.05674fae.js"],"28a932df":["/28a932df.c1caab6b.js"],"2a2fdaf6":["/2a2fdaf6.1ec01905.js"],"2a912e67":["/2a912e67.a7dbebdc.js"],"2e254a3f":["/2e254a3f.0d29aaed.js"],"2eb300d6":["/2eb300d6.e7c3979d.js"],"30cb528f":["/30cb528f.f950d8ea.js"],"32849e0e":["/32849e0e.89c7cc68.js"],"33fa20e6":["/33fa20e6.960a24b7.js"],"34684d79":["/34684d79.6ae77577.js"],"3523e5ba":["/3523e5ba.bbcd3014.js"],"3570154c":["/3570154c.b51818b5.js"],"359fe6a9":["/359fe6a9.dc673daa.js"],"35b5d9ba":["/35b5d9ba.4588df97.js"],"35c1b2a3":["/35c1b2a3.fbf37712.js"],"3629b0d3":["/3629b0d3.18680dfa.js"],"378c50ad":["/378c50ad.d573b18a.js"],"3c68acf0":["/3c68acf0.59f9e963.js"],"3e2ad6aa":["/3e2ad6aa.34d1f2cc.js"],"3f19e1c7":["/3f19e1c7.68f22a9c.js"],"3f4d0ab7":["/3f4d0ab7.1bd3c07a.js"],"4142f602":["/4142f602.ce3d70ce.js"],"4667277a":["/4667277a.4c5c2b37.js"],"4794a39c":["/4794a39c.1e27f8b4.js"],"484cf785":["/484cf785.f2e08ccf.js"],"4899252d":["/4899252d.75c0bd33.js"],"4a17176f":["/4a17176f.ca84ad8e.js"],"4adf9039":["/4adf9039.49c3543f.js"],"4be53141":["/4be53141.3d13ae0c.js"],"4c0e3ffa":["/4c0e3ffa.b94bb7d8.js"],"4cc0e3d3":["/4cc0e3d3.4e2dc162.js"],"4f0f6519":["/4f0f6519.79a0385e.js"],"4f5d5dba":["/4f5d5dba.d0b4549b.js"],"4fb0d123":["/4fb0d123.9aa9c260.js"],"51c882b6":["/51c882b6.57459189.js"],"51f8d823":["/51f8d823.0960f409.js"],"537c2f50":["/537c2f50.a2d3f094.js"],"59811ff6":["/59811ff6.b8ea73a9.js"],"59fc430a":["/59fc430a.ac9f6d66.js"],"5a8467c8":["/5a8467c8.0b5d5352.js"],"5b9e3eb2":["/5b9e3eb2.377a619c.js"],"5cb198ff":["/5cb198ff.92baabc8.js"],"5e1a6a97":["/5e1a6a97.0f579b95.js"],"6070acdb":["/6070acdb.51d32c07.js"],"62bccefa":["/62bccefa.d90c77d9.js"],"64f72856":["/64f72856.aa4f1a7d.js"],"66c6a531":["/66c6a531.3ccff2b2.js"],"671df222":["/671df222.c48b339b.js"],"682f37e2":["/682f37e2.c2ec93da.js"],"6875c492":["/6875c492.afdef6fa.css","/6875c492.40b79ada.js"],"68e569b5":["/68e569b5.800cb7e8.js"],"6af29d63":["/6af29d63.d79bd98c.js"],"6c161efb":["/6c161efb.701370ea.js"],"6cf5e099":["/6cf5e099.8474eb15.js"],"6eb034f5":["/6eb034f5.4715fedf.js"],"6f88babc":["/6f88babc.a6067b59.js"],"6f98f38e":["/6f98f38e.88b519e0.js"],"7031724a":["/7031724a.3921508a.js"],"710595e7":["/710595e7.a9d7f775.js"],"723dd439":["/723dd439.66debe69.js"],"7355169f":["/7355169f.aca7b4ea.js"],"745056e3":["/745056e3.9d5f9655.js"],"74a8fb27":["/74a8fb27.16ad7c6d.js"],"7545e907":["/7545e907.f938b202.js"],"770ed746":["/770ed746.b8ea0584.js"],"7ac3ca8e":["/7ac3ca8e.c62354ab.js"],"7ce54129":["/7ce54129.115b56bb.js"],"7e1ac88a":["/7e1ac88a.0edd7362.js"],"7e71957c":["/7e71957c.3206a9ea.js"],"7efd278f":["/7efd278f.c046b8be.js"],"7f619baf":["/7f619baf.93563954.js"],"7fa9a6c2":["/7fa9a6c2.e12d4caa.js"],"7fea6da0":["/7fea6da0.8826670e.js"],"817390e5":["/817390e5.0984426f.js"],"8529cbe9":["/8529cbe9.17c6f21d.js"],"85bda95d":["/85bda95d.f6e2e219.js"],"8982087a":["/8982087a.952e974f.js"],"8cc9f486":["/8cc9f486.314ae928.js"],"8d0745e1":["/8d0745e1.482e5793.js"],"8d824fee":["/8d824fee.9a550675.js"],"8e9f0a8a":["/8e9f0a8a.688b17a0.js"],"8f8deba3":["/8f8deba3.1e911a5d.js"],"90da8313":["/90da8313.8450b746.js"],"937ab0da":["/937ab0da.e33d3d60.js"],"95a0c517":["/95a0c517.1bc18094.js"],"96e3c932":["/96e3c932.1f554e08.js"],"975f0566":["/975f0566.0f138620.js"],"980d50b9":["/980d50b9.f5404fef.js"],"99cfb617":["/99cfb617.4c3b2112.js"],"9b4e020f":["/9b4e020f.8d90035c.js"],"9c491b6a":["/9c491b6a.3ed16afd.js"],"9c9e4252":["/9c9e4252.6d9f0665.js"],"9e8eb6f8":["/9e8eb6f8.8f3e2ee5.js"],"a4581a69":["/a4581a69.8ccdfbe9.js"],"a5f726cf":["/a5f726cf.d9cd463a.js"],"a6aa9e1f":["/a6aa9e1f.afdef6fa.css","/a6aa9e1f.60c65749.js"],"a7861818":["/a7861818.5c578d31.js"],"a8771adf":["/a8771adf.cea2071e.js"],"a9cce560":["/a9cce560.b51d9f4c.js"],"ac07380c":["/ac07380c.e8afb3da.js"],"ad4eb310":["/ad4eb310.e7a48979.js"],"ae634515":["/ae634515.3f5a0118.js"],"af172acd":["/af172acd.74c40c0b.js"],"b00b6cc6":["/b00b6cc6.497ba9de.js"],"b097e5f6":["/b097e5f6.26751201.js"],"b1b7ca81":["/b1b7ca81.e440d07a.js"],"b31e5cf6":["/b31e5cf6.5ea96035.js"],"b3f6b08b":["/b3f6b08b.893fa8df.js"],"b4641276":["/b4641276.b7e645b1.js"],"b7e1ae54":["/b7e1ae54.854c9747.js"],"b937dc4e":["/b937dc4e.0d54d19b.js"],"b97bf4c3":["/b97bf4c3.d7bc3702.js"],"ba58dd52":["/ba58dd52.23627824.js"],"ba6c5c63":["/ba6c5c63.a9b724ac.js"],"bdd709f1":["/bdd709f1.299feb8e.js"],"be367357":["/be367357.66ef9370.js"],"bf1ff372":["/bf1ff372.71bb9dca.js"],"c1b57524":["/c1b57524.302d5805.js"],"c31c8869":["/c31c8869.f3e27e95.js"],"c358f84c":["/c358f84c.581b2fb4.js"],"c3707476":["/c3707476.7da03352.js"],"c4f5d8e4":["/c4f5d8e4.9f99729b.css","/c4f5d8e4.4c5f13e8.js"],"c525cd0c":["/c525cd0c.6a8c3087.js"],"c5989482":["/c5989482.ff437e75.js"],"c814305f":["/c814305f.7ee2824a.js"],"c85a0556":["/c85a0556.2aa2c5f4.js"],"c8d81af2":["/c8d81af2.86530702.js"],"c9f5a1ff":["/c9f5a1ff.a59648c7.js"],"cc1b2ba9":["/cc1b2ba9.530afaf5.js"],"cc899c7e":["/cc899c7e.45e5519a.js"],"ccc49370":["/ccc49370.afdef6fa.css","/ccc49370.6adb7d37.js"],"ce051679":["/ce051679.63bc22d6.js"],"cf94a3a3":["/cf94a3a3.389b8384.js"],"d349c250":["/d349c250.fcf1f23d.js"],"d45aaf0b":["/d45aaf0b.aec084e8.js"],"d5b6e4a9":["/d5b6e4a9.85ceb4bf.js"],"d5e44f4e":["/d5e44f4e.51dc7b88.js"],"d610846f":["/d610846f.22b81fd9.js"],"d6cba177":["/d6cba177.46224145.js"],"d6f13198":["/d6f13198.a5342b28.js"],"d9ae6871":["/d9ae6871.a6be073b.js"],"d9f5ef6a":["/d9f5ef6a.3985029f.js"],"de445c44":["/de445c44.75a1c38b.js"],"e0d32fe5":["/e0d32fe5.4ba1a266.js"],"e0edcde2":["/e0edcde2.a9a41a8b.js"],"e387c2b8":["/e387c2b8.2056e2ff.js"],"e77af92e":["/e77af92e.30e0c992.js"],"eb7d0b32":["/eb7d0b32.7872c7e9.js"],"ebe6d24f":["/ebe6d24f.a627a05c.js"],"f0496db0":["/f0496db0.eb1900d8.js"],"f10263ea":["/f10263ea.99e47ba6.js"],"f1a8d6b5":["/f1a8d6b5.afd3eda1.js"],"f7ff8946":["/f7ff8946.2cb37a8b.js"],"f9310b79":["/f9310b79.63d271d8.js"],"fab67ac2":["/fab67ac2.84006d98.js"],"fbbe250b":["/fbbe250b.788bfbda.js"],"fbd29a1c":["/fbd29a1c.f7d2a287.js"],"fca90fd8":["/fca90fd8.2d472b3e.js"],"fda35bac":["/fda35bac.42c979a5.js"],"fe20272f":["/fe20272f.a05f6308.js"],"fecabaa4":["/fecabaa4.d0bae164.js"],"fef17072":["/fef17072.769a1406.js"]};/*]]>*/</script>

<title data-react-helmet="true">Developing mediators</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" property="og:title" content="OpenHIM Â· Simplifying Interoperability"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="**OpenHIM mediators** are separate micro services that run independently from the OpenHIM-core and perform additional mediation tasks for a particular use case. The common tasks within a mediator are as follows:"/><meta data-react-helmet="true" property="og:description" content="**OpenHIM mediators** are separate micro services that run independently from the OpenHIM-core and perform additional mediation tasks for a particular use case. The common tasks within a mediator are as follows:"/><meta data-react-helmet="true" property="og:url" content="https://jembi.github.io/docs/dev-guide/developing-mediators"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"/>


<link rel="stylesheet" type="text/css" href="/main.890859af.css" />

<link rel="stylesheet" type="text/css" href="/0.ee9bd68e.css" />

<link rel="stylesheet" type="text/css" href="/1.23b9b4f0.css" />

<link rel="stylesheet" type="text/css" href="/1be78505.a7dc664a.css" />

<link rel="stylesheet" type="text/css" href="/17896441.5eb77786.css" />

</head>
<body >
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/openhim-logo-green.svg" alt="OpenHIM"/></a><a class="navbar__item navbar__link" href="/docs/introduction/about">Docs</a><a class="navbar__item navbar__link" href="/docs/api/introduction/welcome">API</a><a class="navbar__item navbar__link" href="/mediator-library">Mediator Library</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_16vC moon_1N64"></span></div><div class="react-toggle-track-x"><span class="toggle_16vC sun_3CZP"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/openhim-logo-green.svg" alt="OpenHIM"/></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/introduction/welcome">API</a></li><li class="menu__list-item"><a class="menu__link" href="/mediator-library">Mediator Library</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/docusaurus">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/about">About the OpenHIM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/key-components">Key Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/community">Community</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/installation/manual">Install Manually</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation/docker">Install via Docker</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation/npm">Install via NPM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation/virtual-machine">Install via Virtual Machine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation/console-configuration">Console Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/prerequisite">Prerequisite</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/mediator">Building a Mediator</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/overview">OpenHIM Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/basic-configuration">Basic configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/adding-users">Adding Users</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/transaction-list">Transaction List</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/alerting-reports">Alerting and reports</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/polling-channels">Polling Channels (scheduled tasks)</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/certificates-keystore">Certificates &amp; Keystore</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/mediators">Mediators</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/sample-disaster-recovery-procedure">Sample disaster recovery procedure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/openhim-core-versioning-and-compatibility">OpenHIM Core versioning and compatibility</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/user-guide/auditing">Auditing</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/dev-guide/design-overview">Design overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev-guide/design-details">Detailed design using Node.js</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev-guide/openhim-development">Getting started with OpenHIM development</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/dev-guide/developing-mediators">Developing mediators</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev-guide/restful-api">RESTful API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dev-guide/contributing">Contributing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Implementations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/implementations/datim">DATIM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/implementations/mhero">mHero</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/implementations/momconnect">MomConnect</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/implementations/openhie">OpenHIE</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How to</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/setup-and-configure">Setup and configure the OpenHIM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/openhim-core-release">Create an OpenHIM-core release</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/openhim-console-release">Create an OpenHIM-console release</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/build-centos-rpm-package">Build a CentOS RPM package</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/install-on-centos">Install on CentOS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/setup-ssl">Setup SSL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/pre-package-offline-release">Pre-package an offline OpenHIM-core release</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/run-openhim-using-vagrant">Run the OpenHIM using vagrant</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/run-openhim-on-startup">Run the OpenHIM on startup</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/export-import-configuration">Export/import Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/setup-basic-cluster">Setup a basic cluster</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/manually-install-on-ubuntu-trusty">Manually install on Ubuntu 14.04 Trusty</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/manually-install-on-windows">Manually install on Windows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/how-to/build-openhim-documentation">Build the documentation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Developing mediators</h1></header><div class="markdown"><p><strong>OpenHIM mediators</strong> are separate micro services that run independently from the OpenHIM-core and perform additional mediation tasks for a particular use case. The common tasks within a mediator are as follows:</p><ul><li>Message format adaptation - this is the transformation of messages received in a certain format into another format (e.g. HL7 v2 to HL7 v3 or MHD to XDS.b).</li><li>Message orchestration - this is the execution of a business function that may need to call out to other service endpoints on other systems. (e.g. Enriching a message with a client&#x27;s unique identifier retrieved from a client registry).</li></ul><p>Mediators can be built using any platform that is desired (some good options are Apache Camel, Mule ESB, or any language or platform that is a good fit for your needs). The only restriction is that the mediator MUST communicate with the OpenHIM-core in a particular way. There are 3 different types of communication that a mediator can have with the OpenHIM-core. These are <a href="https://github.com/jembi/openhim-core-js/wiki/Creating-an-OpenHIM-mediator#mediator-communication-with-core">described later</a>.</p><p>You can also take a look at our handy <a href="https://github.com/jembi/openhim-mediator-yeoman-generators">mediator yeoman generators</a> to get set-up with scaffolding to start building a mediator. To help you get started we have also created some tutorials that you can find <a href="http://openhim.readthedocs.org/en/latest/tutorial/index.html">here</a>. If you&#x27;re a java developer, you can also take a look at our <a href="https://github.com/jembi/openhim-mediator-engine-java">mediator engine</a> for additional documentation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="suggested-mediator-structure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#suggested-mediator-structure">#</a>Suggested mediator structure</h2><p>For maximum reusability and modifiability, we suggest that mediators be split into a number of sub-components. These sub-components are shown in the diagram bellow. Mediators do not need to follow this structure however it provides some useful benefits. If a mediator is simple and does not need the complexity added by having multiple sub-components it may implement its functionality in which ever way is simplest. If you mediator does not require this, you may skip this section.</p><p><img src="assets/mediators/mediator-structure.png" alt="Mediator Structure"/></p><p>Each mediator should consist of a <strong>normalisation</strong> sub-components, an <strong>orchestration</strong> sub-component and a <strong>de-normalisation</strong> sub-component. The purpose of each of these are described below.</p><p><em>Note: These descriptions are taken the <a href="http://www.cair.za.net/research/outputs/open-health-information-mediator-architecture-enabling-interoperability-low-middle">published thesis</a> of Ryan Crichton: &#x27;The Open Health Information Mediator: an Architecture for Enabling Interoperability in Low to Middle Income Countries&#x27;</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="normalisation-sub-component"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#normalisation-sub-component">#</a>Normalisation sub-component</h3><p>This sub-component transforms the request message contained within a transaction to a normalised state. This normalised state is called the canonical form for that transaction. After this process the transaction data must be in a consistent and predictable format to allow components following this step to process it in a predictable fashion, no matter what format it arrived in. This process consists of two operations. Firstly, an on-ramp transformation is applied. This ensures that the message is transformed into a form that the HIM can process, thus enabling syntactic interoperability for the transaction. For example, if the transaction arrives from a legacy application that only supported exporting data in a custom XML format, this process would ensure that the XML is transformed into the canonical form that the HIM can understand, such as an HL7 version 2 messages. Secondly, a translation operation is invoked. This operation is responsible for ensuring the codes and code systems used within the transaction are translated to a standard set of vocabulary or clinical terms, called reference terms, that have a common interpretation by other components of the HIM. This could involve a call to a terminology service to translate and verify that the codes used within the transaction are represented in, or are translated to, known reference terms. In this way semantic interoperability between service requesters and providers is achieved.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="orchestration-sub-component"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#orchestration-sub-component">#</a>Orchestration sub-component</h3><p>This sub-component is responsible for performing implementation-specific orchestration for the current transaction. The aim of the orchestration component is to execute the received transaction and perform any consequent action(s) required for this transaction. This could include zero or more calls to external services as well as the execution of business logic. This component compiles the response for the executed transaction and returns this to the persistence component which forwards the response to the service requester via the interface component. The calls to external systems should be done in parallel where possible to ensure that the orchestration is done quickly and efficiently as possible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="de-normalisation-sub-component"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#de-normalisation-sub-component">#</a>De-normalisation sub-component</h3><p>This sub-component is responsible for transforming or constructing a service request in a format that is understandable to the service provider. This operates similarly to the normalisation component except the operations occur in the reverse order. This approach serves to decouple service providers from the orchestration component, which allows for service providers to be easily modified or replaced with minimal impact on the mediation component.</p><p>Separating the mediator into these difference components allows the same orchestration logic to be reused with multiple inbound and outbound message formats. It also allows the normalisation and de-normalisation sub-components to be split out of the mediator and scaled and load balanced independently from it. This is especially useful in high load applications. We recommend that mediation platform such as Mule ESB or Apache Camel be used to ease the construction of such a mediator simpler.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="mediator-communication-with-core"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mediator-communication-with-core">#</a>Mediator communication with core</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="mediator-registration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mediator-registration">#</a>Mediator registration</h3><p>A mediator <strong>MUST</strong> register itself with the OpenHIM-core each time it starts up. The registration process informs the OpenHIM-core of some useful details:</p><ul><li>An identifier and name to associate with the OpenHIM-core</li><li>The hostname or IP address of the mediator</li><li>Default channel configuration that should be applied to the OpenHIM-core that the mediator needs</li><li>The endpoints that the mediator exposes that the OpenHIM can contact it on.</li></ul><p>In order to register itself a mediator MUST send an API request to the OpenHIM-core with the following format:</p><p><code>POST https://&lt;openhim-core_host&gt;:&lt;api_port&gt;/mediators</code></p><p>with a JSON body that conforms to the following structure:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;urn&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;a unique URN&gt;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// A unique identifier to identify the mediator, this identifier should always stay the same even if the mediator changes (eg. </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;urn:openhim-mediator:my-awesome-mediator&quot;</span><span class="token plain">)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the version of the mediator, if this is incremented the OpenHIM-core will update the channel configuration - expects a semver string</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a human readable name for the mediator</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;defaultChannelConfig&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) an array of default channels to add for this mediator</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a channel object as defined by the OpenHIM-core - see https://github.com/jembi/openhim-core-js/blob/master/src/model/channels.js#L69-L134</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;endpoints&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (A minimum of 1 endpoint must be defined) an array of endpoints that the mediator can be contacted on</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a route object as defined by OpenHIM-core - see https://github.com/jembi/openhim-core-js/blob/master/src/model/channels.js#L7-L33</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) An array of config definitions of config that can be set in the OpenHIM-console - see https://github.com/jembi/openhim-core-js/blob/master/src/model/mediators.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;config&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token property">&quot;&lt;param1&gt;&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;val1&gt;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;&lt;param2&gt;&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;val2&gt;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) Default mediator configuration</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The <code>configDefs</code> property defines an array of configuration definitions that each describe configuration parameters that could be provided by the user. These configuration parameters could have the following <code>type</code> properties:</p><ul><li><code>string</code> - A string of text</li><li><code>bigstring</code> - A string of text that is expected to be large (it will be displayed as a text area on the OpenHIM-console)</li><li><code>bool</code> - A boolean value (true or false)</li><li><code>number</code> - An integer or decimal value</li><li><code>option</code> - A value from a pre-defined list. If this datatype is use then the <code>values</code> property MUST also be used. The <code>values</code> property specifies an array of possible values for the parameter.</li><li><code>map</code> - Key/value pairs. A map is formatted as an object with string values, e.g. <code>{ &quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot; }</code>. New key/value pairs can be added dynamically.</li><li><code>struct</code> - A collection of fields that can be of any of type. If a parameter is a struct, then a <code>template</code> field MUST be defined. A template is an array with each element defining the individual fields that the struct is made up of. The definition schema is the same as the <code>configDefs</code> <a href="https://github.com/jembi/openhim-core-js/blob/master/src/model/mediators.js">schema</a> with the exception that a struct may not recursively define other structs.</li><li><code>password</code> - A string value representing a password or some other protected information. The value of this type will be masked when returned form the OpenHIM API in all but the <code>heartbeats</code> API endpoint to reduce the risk of accidental exposure.</li></ul><p>A config definition may also specify an <code>array</code> property (boolean). If true, then the config can have an array of values. The elements in the array must be of the specified type, e.g. if the config definition is of type <code>string</code>, then the config must be an array of strings.</p><p>The OpenHIM-core SHALL respond with a HTTP status of 201 if the mediator registration was successful.
The OpenHIM-core SHALL respond with an appropriate 4xx status if the mediator registration could not be completed due to a bad request.
The OpenHIM-core SHALL respond with an appropriate 5xx status if the mediator registration could not be completed due to server error in the OpenHIM-core.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="mediator-config-definition-examples"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mediator-config-definition-examples">#</a>Mediator Config Definition Examples</h4><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="basic-settings"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#basic-settings">#</a>Basic Settings</h5><p>The following is a config definition for basic server settings:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server Scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;option&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;values&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Valid config would be:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;host&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;localhost&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scheme&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="map-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#map-example">#</a>Map example</h5><p>A map is a collection of key/value pairs:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;uidMappings&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UID Mappings&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;map&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Valid config would be:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;uidMappings&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;value1&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;a1b2c3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;value2&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;d4e5f6&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;value3&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;g7h8i9&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Note that the keys <code>value1</code>, <code>value2</code>, etc. were not predefined in the definition. The OpenHIM-console allows users to dynamically add key/value pairs for a map.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="struct-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#struct-example">#</a>Struct example</h5><p>A struct is a grouping of other types:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;server&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Target Server&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Target Server&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;struct&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;template&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server Scheme&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;option&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;values&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Valid config would be:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;server&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;host&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;localhost&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;scheme&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="array-example"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#array-example">#</a>Array example</h5><p>The following is a config definition for a string array:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;balancerHosts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Balancer Hostnames&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;A list of hosts to load balance between&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;array&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Valid config would be:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;balancerHosts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.7&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Arrays are supported for all types, including structs:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;configDefs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;balancerHosts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Balancer Hostnames&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;A list of hosts to load balance between&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;struct&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;array&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;template&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;host&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;param&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;weight&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Valid config would be:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;balancerHosts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;host&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;weight&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.6</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;host&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;weight&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;host&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;192.168.0.7&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;weight&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="return-transaction-metadata"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#return-transaction-metadata">#</a>Return transaction metadata</h3><p>A mediator <strong>SHOULD</strong> return a structured object that indicates the response that should be returned to the user as well as metadata about the actions that were performed. The mediator is not required to do this however useful information can be returned to the OpenHIM-core in this way. If a structured response is not returned to the OpenHIM-core then what ever is returned to the OpenHIM-core is passed directly on to the client that made the request.</p><p>The structured object should be returned in the HTTP response for each request that the OpenHIM-core forwards to the mediator. If the mediator chooses to return a structured response then the mediator MUST return this object with a content-type header with the value: &#x27;application/json+openhim&#x27;. If the mediator wants to set a specific content-type to return to the client, they can set this in the response object as a header (see below).</p><p>The JSON object returned to the OpenHIM should take the following form:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;x-mediator-urn&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;a unique URN&gt;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//same as the mediator&#x27;s urn</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;status&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Successful&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) an indicator of the status of the transaction, this can be one of the following: [&#x27;Processing&#x27;, &#x27;Failed&#x27;, &#x27;Completed&#x27;, &#x27;Successful&#x27;, &#x27;Completed with error(s)&#x27;]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;response&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a response object as defined by OpenHIM-core - see https://github.com/jembi/openhim-core-js/blob/8264a9b7c81a05853c20cd071e379d23d740dd33/src/model/transactions.coffee#L13-L18</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;orchestrations&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) an array of orchestration objects</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// orchestration object as defined by OpenHIM-core - see https://github.com/jembi/openhim-core-js/blob/8264a9b7c81a05853c20cd071e379d23d740dd33/src/model/transactions.coffee#L28-L32</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> ... </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;properties&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) a map of properties that the mediator may want to report</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;pro1&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;val&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;pro2&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;val&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;error&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (optional) if an internal server error occurs, details can be included here. If included the transaction will automatically be retried by the OpenHIM-core, if enabled on the channel.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Error message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;stack&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;...stack trace...&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//(optional)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="including-error-details"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#including-error-details">#</a>Including error details</h4><p>See the response format above; error details can be included using the <code>error</code> field. Although optional, its use is encouraged whenever any internal server errors occur, especially if the connection to an upstream server fails. When included, the OpenHIM will automatically retry the transaction, if the auto-retry option enabled on the channel.</p><p>Error details can also be included for orchestrations; see <a href="https://github.com/jembi/openhim-core-js/blob/master/src/model/transactions.js#L34">https://github.com/jembi/openhim-core-js/blob/master/src/model/transactions.js#L34</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="optional-send-heartbeats-and-receive-user-configuration-directly-from-openhim-core"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#optional-send-heartbeats-and-receive-user-configuration-directly-from-openhim-core">#</a>(Optional) Send heartbeats and receive user configuration directly from OpenHIM-core</h3><p>A mediator <strong>MAY</strong> opt to send heartbeats to the OpenHIM-core to demonstrate its aliveness. The heartbeats also allow it to receive user specified configuration data and any changes to that configuration in a near real-time fashion.</p><p>The mediator can do this by utilising the mediator heartbeats API endpoint of the OpenHIM-core. You can find <a href="./api-ref.html#mediator-heartbeat-endpoint">details on this endpoint here</a>. This API endpoint, if supported by the mediator, should always be called once at mediator startup using the <code>config: true</code> flag to get the initial startup config for the mediator if it exists. There after the API endpoint should be hit at least every 30s (a good number to work with is every 10s) by the mediator to provide the OpenHIM-core with its heartbeat and so that the mediator can receive the latest user config as it becomes available.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dev-guide/openhim-development"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">Â« <!-- -->Getting started with OpenHIM development</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dev-guide/restful-api"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">RESTful API<!-- --> Â»</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#suggested-mediator-structure" class="contents__link">Suggested mediator structure</a><ul class=""><li><a href="#normalisation-sub-component" class="contents__link">Normalisation sub-component</a></li><li><a href="#orchestration-sub-component" class="contents__link">Orchestration sub-component</a></li><li><a href="#de-normalisation-sub-component" class="contents__link">De-normalisation sub-component</a></li></ul></li><li><a href="#mediator-communication-with-core" class="contents__link">Mediator communication with core</a><ul class=""><li><a href="#mediator-registration" class="contents__link">Mediator registration</a></li><li><a href="#return-transaction-metadata" class="contents__link">Return transaction metadata</a></li><li><a href="#optional-send-heartbeats-and-receive-user-configuration-directly-from-openhim-core" class="contents__link">(Optional) Send heartbeats and receive user configuration directly from OpenHIM-core</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/doc1">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discordapp.com/invite/docusaurus">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"/></a></div>Copyright Â© 2019 Facebook, Inc. Built with Docusaurus.</div></div></footer>
</div>

<script type="text/javascript" src="/runtime~main.08b91b4b.js"></script>

<script type="text/javascript" src="/main.8982d4c2.js"></script>

<script type="text/javascript" src="/0.3098e6ab.js"></script>

<script type="text/javascript" src="/1.3099a30b.js"></script>

<script type="text/javascript" src="/1be78505.07533e7a.js"></script>

<script type="text/javascript" src="/9c9e4252.6d9f0665.js"></script>

<script type="text/javascript" src="/17896441.a0636878.js"></script>

<script type="text/javascript" src="/90da8313.8450b746.js"></script>

<script type="text/javascript" src="/f0496db0.eb1900d8.js"></script>

</body>
</html>