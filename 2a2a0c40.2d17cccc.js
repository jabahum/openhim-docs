(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{185:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return u}));var o=n(1),a=(n(0),n(597)),r=n(602);const c={id:"install",title:"Install OpenHIM",sidebar_label:"Install OpenHIM"},i=[{value:"Install Core and Console",id:"install-core-and-console",children:[{value:"Congratulations! :)",id:"congratulations-",children:[]},{value:"First time login",id:"first-time-login",children:[]}]},{value:"Useful Docker commands",id:"useful-docker-commands",children:[{value:"Check running processes",id:"check-running-processes",children:[]},{value:"Access the Openhim core logs",id:"access-the-openhim-core-logs",children:[]},{value:"Stop the Docker service",id:"stop-the-docker-service",children:[]}]}],s={rightToc:i},l="wrapper";function u({components:e,...t}){return Object(a.b)(l,Object(o.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"install-core-and-console"},"Install Core and Console"),Object(a.b)("p",null,"Once we have all our prerequisites completed we are now ready to spin up our OpenHIM instance using Docker. Open up a new terminal window and ensure that you are within the directory where the ",Object(a.b)("inlineCode",{parentName:"p"},"docker-compose.yml")," file is located and execute the below command:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-bash"}),"docker-compose up -d\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"NB!")," the user you are executing the above command with needs to be an administrator for the docker-compose script to run successfully"),Object(a.b)("p",null,"The first time this command is run it will take some time to complete. What is happening is that the Docker Compose file needs to pull the relevant images from Dockerhub that doesn't yet exist within your local machine so that the docker containers can be built successfully for our OpenHIM instance."),Object(a.b)("p",null,"Once the ",Object(a.b)("inlineCode",{parentName:"p"},"docker-compose")," has successfully completed, you should see something like the below printed within your terminal. This means that the relevant images have been downloaded and the docker containers have been created. "),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-bash"}),"...\nCreating mongo-db        ... done\nCreating openhim-console ... done\nCreating openhim-core    ... done\n\n")),Object(a.b)("h3",{id:"congratulations-"},"Congratulations! :)"),Object(a.b)("p",null,"Your OpenHIM instance has been successfully installed on your local machine. To view the OpenHIM instance we can navigate to ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"http://localhost:9000"}),"http://localhost:9000")),Object(a.b)("h3",{id:"first-time-login"},"First time login"),Object(a.b)("p",null,"Once your OpenHIM instance has successfully been created and you are able to access it on the above URL, you will need to login with the ",Object(a.b)("inlineCode",{parentName:"p"},"root")," user and reset the password. Supply the below ",Object(a.b)("inlineCode",{parentName:"p"},"root")," user details to continue with the installation process."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{}),"username: root@openhim.org\npassword: openhim-password\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"NB!")," if you are presented with a red information box when submitting the default ",Object(a.b)("inlineCode",{parentName:"p"},"root")," users details, it means that you are using a self signed certificate that will need to be accepted by the browser first. Click on the link that is presented which will try and access the API heartbeat. The browser will present you with a security risk page to notify you of the self signed certificate. Depending on the browser you are using, click on the ",Object(a.b)("inlineCode",{parentName:"p"},"advanced")," button and proceed to accept the un-trusted certificate so that we are able to successfully communicate with the OpenHIM core API"),Object(a.b)("div",{style:{display:"flex",justifyContent:"center"}},Object(a.b)("img",{alt:"OpenHIM",src:Object(r.a)("img/self-signed-cert-warning.png")})),Object(a.b)("p",null,"Once the self signed certificate has been accepted, or a valid certificate is being used for the OpenHIM core, you should see the below JSON output when viewing the ",Object(a.b)("inlineCode",{parentName:"p"},"/heartbeat")," endpoint within the OpenHIM core API. You are now able to proceed with successfully logging into the OpenHIM console"),Object(a.b)("div",{style:{display:"flex",justifyContent:"center"}},Object(a.b)("img",{alt:"OpenHIM",src:Object(r.a)("img/heartbeat.png")})),Object(a.b)("h2",{id:"useful-docker-commands"},"Useful Docker commands"),Object(a.b)("p",null,"Below are a few useful Docker commands that will allow you to have better visibility into your OpenHIM/Docker setup"),Object(a.b)("h3",{id:"check-running-processes"},"Check running processes"),Object(a.b)("p",null,"Now that we have our OpenHIM successfully created and running, we might need to check up on our Docker processes running to find some additional metadata on our containers. Execute the below command to find all the running Docker process "),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-bash"}),"docker ps\n")),Object(a.b)("h3",{id:"access-the-openhim-core-logs"},"Access the Openhim core logs"),Object(a.b)("p",null,"To access the OpenHIM core logs, execute the below command within your terminal to see the output of the logs"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-bash"}),"docker logs -f openhim-core\n")),Object(a.b)("h3",{id:"stop-the-docker-service"},"Stop the Docker service"),Object(a.b)("p",null,"To stop the running OpenHIM Docker services, we need to execute the below command"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-bash"}),"docker stop $(docker ps -a)\n")),Object(a.b)("p",null,"This command will stop all running process within Docker."))}u.isMDXComponent=!0},597:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p}));var o=n(0),a=n.n(o),r=a.a.createContext({}),c=function(e){var t=a.a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},i=function(e){var t=c(e.components);return a.a.createElement(r.Provider,{value:t},e.children)};var s="mdxType",l={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},u=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,s=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===t.indexOf(o)&&(n[o]=e[o]);return n}(e,["components","mdxType","originalType","parentName"]),u=c(n),p=o,b=u[i+"."+p]||u[p]||l[p]||r;return n?a.a.createElement(b,Object.assign({},{ref:t},s,{components:n})):a.a.createElement(b,Object.assign({},{ref:t},s))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,c=new Array(r);c[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[s]="string"==typeof e?e:o,c[1]=i;for(var p=2;p<r;p++)c[p]=n[p];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},601:function(e,t,n){"use strict";var o=n(0),a=n(33);t.a=function(){return Object(o.useContext)(a.a)}},602:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(601);function a(e){const{siteConfig:t}=Object(o.a)(),{baseUrl:n="/"}=t||{};if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}}}]);